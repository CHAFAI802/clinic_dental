{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container my-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0">DÃ©tails de la facture de Mr:{{ invoice.patient}}</h2>
      <div>
        <a class="btn btn-outline-secondary" href="{% url 'billing:invoice_pdf' invoice.pk %}">ðŸ“„ TÃ©lÃ©charger en PDF</a>
        <a class="btn btn-outline-primary" href="{% url 'billing:invoice_update' invoice.pk %}">Modifier</a>
        <a class="btn btn-outline-dark" href="{% url 'billing:invoice_list' %}">â¬… Retour Ã  la liste</a>
      </div>
  </div>

  <div class="card shadow-sm">
    <div class="card-body">
      <div class="row mb-3">
        <div class="col-md-6">
          <p><strong>Patient :</strong> {{ invoice.patient }}</p>
          <p><strong>Date :</strong> {{ invoice.date|date:"d/m/Y" }}</p>
        </div>
        <div class="col-md-6">
          <p><strong>Montant :</strong> {{ invoice.amount }} â‚¬</p>
          <p>
            <strong>Statut :</strong>
            <span class="badge {% if invoice.status == 'paid' %}bg-success{% elif invoice.status == 'pending' %}bg-warning text-dark{% else %}bg-secondary{% endif %}">{{ invoice.get_status_display }}</span>
          </p>
        </div>
      </div>
      <div class="mb-3">
        <p><strong>Notes :</strong></p>
        <div class="border rounded p-3 bg-light">{{ invoice.notes|default:"Aucune note." }}</div>
      </div>
    </div>
  </div>
</div>
{% endblock %}